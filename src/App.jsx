// src/App.jsx
import React, { useEffect } from "react";
import { BrowserRouter as Router, Routes, Route, useLocation } from "react-router-dom";

// ðŸ§© Layout-Komponenten
import Header from "./components/Header.jsx";
import Footer from "./components/Footer.jsx";

// ðŸ§­ Seiten
import Home from "./pages/Home.jsx";
import Projects from "./pages/Projects.jsx";
import Articles from "./pages/Articles.jsx";
import ArticleDetail from "./pages/ArticleDetail.jsx";
import Profile from "./pages/Profile.jsx";
import Graph from "./pages/Graph.jsx";
import Contact from "./pages/Contact.jsx";
import NotFound from "./pages/NotFound.jsx";
import Impressum from "./pages/Impressum";

/* ---------------------------------------------------------------------------
  ðŸ”¹ Smooth Scroll Component
     â†’ sorgt dafÃ¼r, dass beim Routenwechsel automatisch nach oben gescrollt wird
--------------------------------------------------------------------------- */
function ScrollToTop() {
  const { pathname } = useLocation();

  useEffect(() => {
    window.scrollTo({
      top: 0,
      behavior: "smooth",
    });
  }, [pathname]);

  return null;
}

/* ---------------------------------------------------------------------------
  ðŸ”¸ App-Komponente
--------------------------------------------------------------------------- */
export default function App() {
  return (
    <Router>
      <ScrollToTop />

      {/* ðŸŸ¡ Header (Navigation) */}
      <Header />

      {/* ðŸ”µ Hauptinhalt mit Routing */}
      <main className="min-h-screen bg-navy-900 text-neutral-50">
        <Routes>
          <Route path="/" element={<Home />} />
          <Route path="/projekte" element={<Projects />} />
          <Route path="/beitraege" element={<Articles />} />
          <Route path="/beitraege/:slug" element={<ArticleDetail />} />
          <Route path="/profil" element={<Profile />} />
          <Route path="/graph" element={<Graph />} />
          <Route path="/kontakt" element={<Contact />} />
          <Route path="*" element={<NotFound />} />
          <Route path="/impressum" element={<Impressum />} />
        </Routes>
      </main>

      {/* âšª Footer (immer unten sichtbar) */}
      <Footer />
    </Router>
  );
}
